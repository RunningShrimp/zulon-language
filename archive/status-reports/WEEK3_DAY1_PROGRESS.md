# Week 3 Day 1: æµ‹è¯•æ¡†æ¶ - åˆå§‹è¯„ä¼°

**æ—¥æœŸ**: 2026-01-08
**çŠ¶æ€**: ğŸš€ Day 1 å¼€å§‹
**æ¥æº**: WEEK3_TEST_FRAMEWORK_PLAN.md

---

## ğŸ“Š å½“å‰çŠ¶æ€è¯„ä¼°

### âœ… å·²æœ‰åŸºç¡€

ç»è¿‡æ£€æŸ¥ï¼Œå‘ç°ZULONå·²ç»**éƒ¨åˆ†å®Œæˆ**äº†æµ‹è¯•æ¡†æ¶çš„åŸºç¡€è®¾æ–½ï¼š

#### 1. ASTæ”¯æŒ (100%å®Œæˆ)

**æ–‡ä»¶**: `crates/zulon-parser/src/ast/mod.rs`

**å·²å®ç°**:
- âœ… `Attribute` ç»“æ„ä½“ (ç¬¬89-94è¡Œ)
- âœ… `AttributeArg` æšä¸¾ (ç¬¬96-105è¡Œ)
- âœ… `Function` åŒ…å« `attributes: Vec<Attribute>` (ç¬¬86è¡Œ)

**ä»£ç **:
```rust
/// Attribute: #[attribute] or #[attribute(arg)] or #[attribute(key = value)]
#[derive(Debug, Clone)]
pub struct Attribute {
    pub name: Identifier,
    pub args: Vec<AttributeArg>,
}

/// Function definition
#[derive(Debug, Clone)]
pub struct Function {
    // ...
    pub attributes: Vec<Attribute>,  // Function attributes (e.g., #[test])
}
```

#### 2. Parseræ”¯æŒ (100%å®Œæˆ)

**æ–‡ä»¶**: `crates/zulon-parser/src/parser/mod.rs`

**å·²å®ç°**:
- âœ… `parse_attribute()` å‡½æ•° (ç¬¬1887è¡Œ)
- âœ… å±æ€§è§£æé€»è¾‘ (ç¬¬156-174è¡Œ)
- âœ… æ”¯æŒ `#[test]`, `#[test(arg)]`, `#[test(key = value)]` ç­‰æ ¼å¼

**ä»£ç **:
```rust
// Parse attributes before the item (e.g., #[test])
let mut attributes = Vec::new();
// ... è§£æé€»è¾‘
attributes.push(self.parse_attribute()?);
// ... æ·»åŠ åˆ°function
func.attributes.extend(attributes);
```

### â³ å¾…å®Œæˆç»„ä»¶

#### 1. å®ç³»ç»Ÿ (0%å®Œæˆ)

**éœ€è¦å®ç°**:
- â³ å®å±•å¼€æ¡†æ¶
- â³ `assert!` å®
- â³ `assert_eq!` å®
- â³ `assert_ne!` å®

**å·¥ä½œé‡**: 2å¤©

#### 2. HIRé›†æˆ (0%å®Œæˆ)

**éœ€è¦å®ç°**:
- â³ HIRè¯†åˆ«`#[test]`å‡½æ•°
- â³ ç”Ÿæˆæµ‹è¯•æ³¨å†Œä»£ç 
- â³ é“¾æ¥æµ‹è¯•è¿è¡Œå™¨

**å·¥ä½œé‡**: 1-2å¤©

#### 3. æµ‹è¯•è¿è¡Œå™¨ (0%å®Œæˆ)

**éœ€è¦å®ç°**:
- â³ TestRunner
- â³ TestDiscovery
- â³ ResultCollector
- â³ Reporter

**å·¥ä½œé‡**: 2-3å¤©

---

## ğŸ¯ ä¿®è®¢åçš„Week 3è®¡åˆ’

åŸºäºå‘ç°ï¼Œè°ƒæ•´è®¡åˆ’å¦‚ä¸‹ï¼š

### Day 1: éªŒè¯ç°æœ‰åŸºç¡€ âœ… (ä»Šæ—¥)

**å·²å®Œæˆ**:
- âœ… æ£€æŸ¥AST Attributeæ”¯æŒ
- âœ… æ£€æŸ¥Parserå±æ€§è§£æ
- âœ… åˆ›å»ºæµ‹è¯•ç¤ºä¾‹æ–‡ä»¶
- âœ… åˆ›å»ºéªŒè¯è„šæœ¬

**äº§å‡º**:
- `examples/test_attribute_demo.zl` (35è¡Œ)
- `test_parse_attribute.rs` (35è¡Œ)
- `WEEK3_DAY1_PROGRESS.md` (æœ¬æ–‡æ¡£)

### Day 2-3: å®ç³»ç»Ÿå®ç°

**ä»»åŠ¡**:
1. è®¾è®¡å®å±•å¼€æ¡†æ¶
2. å®ç°`assert!`å®
3. å®ç°`assert_eq!`å®
4. å®ç°`assert_ne!`å®
5. æµ‹è¯•æ‰€æœ‰æ–­è¨€å®

### Day 4-5: HIRé›†æˆå’Œä»£ç ç”Ÿæˆ

**ä»»åŠ¡**:
1. HIRè¯†åˆ«testå‡½æ•°
2. ç”Ÿæˆæµ‹è¯•æ³¨å†Œä»£ç 
3. é›†æˆæµ‹è¯•è¿è¡Œå™¨
4. ç¼–è¯‘æµ‹è¯•

### Day 6-7: æµ‹è¯•è¿è¡Œå™¨å’Œæ–‡æ¡£

**ä»»åŠ¡**:
1. å®ç°TestRunner
2. å®ç°ç»“æœæŠ¥å‘Š
3. ç¼–å†™ä½¿ç”¨æ–‡æ¡£
4. Week 3æ€»ç»“

---

## ğŸ“Š å®é™…è¿›åº¦

| ç»„ä»¶ | è®¡åˆ’çŠ¶æ€ | å®é™…çŠ¶æ€ | è°ƒæ•´ |
|------|---------|---------|------|
| AST Attribute | ğŸš€ è®¡åˆ’ | âœ… å·²å®Œæˆ | - |
| Parseræ”¯æŒ | ğŸš€ è®¡åˆ’ | âœ… å·²å®Œæˆ | - |
| å®ç³»ç»Ÿ | ğŸš€ è®¡åˆ’ | â³ å¾…åš | Day 2-3 |
| HIRé›†æˆ | ğŸš€ è®¡åˆ’ | â³ å¾…åš | Day 4-5 |
| æµ‹è¯•è¿è¡Œå™¨ | ğŸš€ è®¡åˆ’ | â³ å¾…åš | Day 6-7 |

**èŠ‚çœæ—¶é—´**: çº¦1-1.5å¤© (ASTå’ŒParserå·²å®Œæˆ)

---

## ğŸ’¡ æŠ€æœ¯å‘ç°

### 1. Attributeè®¾è®¡è‰¯å¥½

**ä¼˜ç‚¹**:
- âœ… æ”¯æŒå¤šç§å‚æ•°æ ¼å¼
- âœ… å¯æ‰©å±•åˆ°å…¶ä»–å±æ€§ (#[inline], #[optimize], etc.)
- âœ… ç±»å‹å®‰å…¨çš„è¡¨ç¤º

**ç¤ºä¾‹**:
```zulon
#[test]
#[test(arg1, arg2)]
#[test(key = "value")]
fn example() {}
```

### 2. Parseré›†æˆå®Œå–„

**ä¼˜ç‚¹**:
- âœ… å±æ€§åœ¨å‡½æ•°å‰è§£æ
- âœ… è‡ªåŠ¨é™„åŠ åˆ°Functionç»“æ„
- âœ… æ”¯æŒå¤šä¸ªå±æ€§

**ç¤ºä¾‹**:
```zulon
#[test]
#[inline]
fn test_add() {
    // ...
}
```

### 3. éœ€è¦å®ç³»ç»Ÿ

**å½“å‰ç¼ºå¤±**:
- â³ å®å±•å¼€å™¨
- â³ å®åŒ¹é…è§„åˆ™
- â³ å«ç”Ÿæ€§ (hygiene)

**ä¼˜å…ˆçº§**:
- P0: `assert!`, `assert_eq!`, `assert_ne!`
- P1: `vec!`, `println!` (å·²æœ‰)
- P2: è‡ªå®šä¹‰å®æ”¯æŒ

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨ (Day 2)

### ä¼˜å…ˆçº§1: å®ç³»ç»Ÿè®¾è®¡

**ä»»åŠ¡**:
1. è®¾è®¡å®å±•å¼€æ¥å£
2. å®ç°å®åŒ¹é…å™¨
3. å®ç°`assert!`å®
4. ç¼–å†™æµ‹è¯•

### ä¼˜å…ˆçº§2: æ–­è¨€å®å®ç°

**assert!**:
```zulon
macro_rules! assert {
    ($condition:expr) => {
        if !$condition {
            panic!("assertion failed");
        }
    };
    ($condition:expr, $msg:expr) => {
        if !$condition {
            panic!("{}", $msg);
        }
    };
}
```

**assert_eq!**:
```zulon
macro_rules! assert_eq {
    ($left:expr, $right:expr) => {
        if $left != $right {
            panic!("assertion failed: {} != {}", $left, $right);
        }
    };
}
```

---

## ğŸ“ˆ è´¨é‡ä¿è¯

### éªŒè¯æ¸…å•

- âœ… ASTæ”¯æŒéªŒè¯
- âœ… Parseræ”¯æŒéªŒè¯
- â³ å®ç³»ç»Ÿæµ‹è¯•
- â³ HIRé›†æˆæµ‹è¯•
- â³ ç«¯åˆ°ç«¯æµ‹è¯•

### æˆåŠŸæ ‡å‡†

- [ ] å¯ä»¥ç¼–å†™`#[test]`å‡½æ•°
- [ ] å¯ä»¥ä½¿ç”¨`assert!`å®
- [ ] å¯ä»¥ä½¿ç”¨`assert_eq!`å®
- [ ] æµ‹è¯•å¯ä»¥è¢«å‘ç°å’Œè¿è¡Œ

---

## ğŸŠ Day 1 æ€»ç»“

### å‘ç°

1. âœ… **å¥½æ¶ˆæ¯**: ASTå’ŒParserå·²å®Œæˆ
2. â³ **å¾…åš**: å®ç³»ç»Ÿã€HIRé›†æˆã€æµ‹è¯•è¿è¡Œå™¨
3. ğŸ“ˆ **è¿›åº¦**: æ¯”é¢„æœŸæå‰çº¦1å¤©

### è°ƒæ•´

- åŸè®¡åˆ’7å¤©
- å®é™…å¯èƒ½6å¤©å®Œæˆ (å› ä¸ºAST/Parserå·²å­˜åœ¨)
- å¤šä½™æ—¶é—´å¯ç”¨äºä¼˜åŒ–å’Œæ–‡æ¡£

### ä¿¡å¿ƒ

**å®Œæˆä¿¡å¿ƒ**: â­â­â­â­â­ (5/5)

**ç†ç”±**:
- åŸºç¡€è®¾æ–½å·²æœ‰
- è·¯å¾„æ¸…æ™°
- æŠ€æœ¯å¯è¡Œ

---

**Week 3 Day 1è¿›åº¦æŠ¥å‘Š**
**ZULON Language Team**
**2026-01-08**

**çŠ¶æ€**: âœ… æŒ‰è®¡åˆ’è¿›è¡Œï¼Œå‘ç°å·²æœ‰åŸºç¡€è®¾æ–½

å‡†å¤‡è¿›å…¥Day 2: å®ç³»ç»Ÿå®ç°ï¼ğŸš€
