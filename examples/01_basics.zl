// 01_basics.zl
// ZULON åŸºç¡€è¯­æ³•ç¤ºä¾‹
// æ¼”ç¤ºå˜é‡ã€å¸¸é‡ã€åŸºæœ¬ç±»å‹å’Œè¿ç®—

fn main() {
    basics_demo()
    operators_demo()
    control_flow_demo()
}

// å˜é‡å’Œå¸¸é‡
fn basics_demo() {
    println!("=== å˜é‡å’Œå¸¸é‡ ===")

    // ä¸å¯å˜å˜é‡
    let name = "Alice"
    println!("Name: {}", name)

    // å¯å˜å˜é‡
    let mut age = 30
    println!("Initial age: {}", age)
    age = 31
    println!("Updated age: {}", age)

    // å¸¸é‡
    const MAX_SCORE = 100
    println!("Max score: {}", MAX_SCORE)

    // ç±»å‹æ ‡æ³¨ï¼ˆå¯é€‰ï¼‰
    let pi: f64 = 3.14159265359
    println!("Pi: {}", pi)

    // æ•´æ•°ç±»å‹
    let byte: u8 = 255
    let small: i16 = 1000
    let medium: i32 = 100000
    let big: i64 = 10000000000

    println!("æ•´æ•°ç±»å‹: {}, {}, {}, {}", byte, small, medium, big)

    // æµ®ç‚¹ç±»å‹
    let float_val: f32 = 3.14
    let double_val: f64 = 2.718281828459045

    println!("æµ®ç‚¹ç±»å‹: {}, {}", float_val, double_val)

    // å¸ƒå°”ç±»å‹
    let is_valid: bool = true
    let is_empty: bool = false

    println!("å¸ƒå°”ç±»å‹: {}, {}", is_valid, is_empty)

    // å­—ç¬¦ç±»å‹
    let letter: char = 'A'
    let emoji: char = 'ğŸ˜€'
    let chinese: char = 'ä¸­'

    println!("å­—ç¬¦ç±»å‹: {}, {}, {}", letter, emoji, chinese)

    // å­—ç¬¦ä¸²ç±»å‹
    let greeting: str = "Hello, ZULON!"
    println!("{}", greeting)
}

// è¿ç®—ç¬¦
fn operators_demo() {
    println!("\n=== è¿ç®—ç¬¦ ===")

    // ç®—æœ¯è¿ç®—
    let a = 10
    let b = 3

    println!("{} + {} = {}", a, b, a + b)
    println!("{} - {} = {}", a, b, a - b)
    println!("{} * {} = {}", a, b, a * b)
    println!("{} / {} = {}", a, b, a / b)
    println!("{} % {} = {}", a, b, a % b)

    // æ¯”è¾ƒè¿ç®—
    let x = 5
    let y = 10

    println!("{} < {} = {}", x, y, x < y)
    println!("{} > {} = {}", x, y, x > y)
    println!("{} == {} = {}", x, y, x == y)
    println!("{} != {} = {}", x, y, x != y)
    println!("{} <= {} = {}", x, y, x <= y)
    println!("{} >= {} = {}", x, y, x >= y)

    // é€»è¾‘è¿ç®—
    let p = true
    let q = false

    println!("{} && {} = {}", p, q, p && q)
    println!("{} || {} = {}", p, q, p || q)
    println!("!{} = {}", p, !p)

    // ä½è¿ç®—
    let m = 0b1100  // 12
    let n = 0b1010  // 10

    println!("{} & {} = {}", m, n, m & n)
    println!("{} | {} = {}", m, n, m | n)
    println!("{} ^ {} = {}", m, n, m ^ n)
    println!("{} << 1 = {}", m, m << 1)
    println!("{} >> 1 = {}", m, m >> 1)
}

// æ§åˆ¶æµ
fn control_flow_demo() {
    println!("\n=== æ§åˆ¶æµ ===")

    // if-else è¯­å¥
    let number = 42

    if number > 50 {
        println!("{} å¤§äº 50", number)
    } else if number > 40 {
        println!("{} åœ¨ 40-50 ä¹‹é—´", number)
    } else {
        println!("{} å°äºç­‰äº 40", number)
    }

    // loop å¾ªç¯
    println!("\n--- Loop å¾ªç¯ ---")
    let mut i = 0
    loop {
        println!("Loop: {}", i)
        i = i + 1
        if i >= 3 {
            break
        }
    }

    // while å¾ªç¯
    println!("\n--- While å¾ªç¯ ---")
    let mut j = 0
    while j < 3 {
        println!("While: {}", j)
        j = j + 1
    }

    // for å¾ªç¯
    println!("\n--- For å¾ªç¯ ---")
    for k in 0..3 {
        println!("For: {}", k)
    }

    // éå†æ•°ç»„
    let fruits = ["Apple", "Banana", "Cherry"]
    println!("\n--- éå†æ•°ç»„ ---")
    for fruit in fruits {
        println!("æ°´æœ: {}", fruit)
    }

    // ä½¿ç”¨ç´¢å¼•
    for index in 0..fruits.len() {
        println!("æ°´æœ[{}]: {}", index, fruits[index])
    }
}

// è¿è¡Œæ­¤ç¤ºä¾‹:
// zc run 01_basics.zl
